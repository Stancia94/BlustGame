{"version":3,"sources":["assets\\scripts\\BlockClickHandler.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,uCAA6E;AAC7E,uDAAkD;AAClD,6CAAwC;AACxC,iCAAiE;AAEjE;IAAuC,qCAAY;IAE/C,2BAAY,KAAoB;QAAhC,YACI,kBAAM,KAAK,CAAC,SAEf;QADG,KAAI,CAAC,WAAW,GAAG,IAAI,qBAAW,CAAC,KAAK,CAAC,CAAC;;IAC9C,CAAC;IACD,kCAAM,GAAN,UAAO,IAAqB,EAAE,QAAwB;QAClD,IAAI,kBAAU,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE;YAC5B,IAAI,UAAU,GAAgB,EAAE,CAAC;YACjC,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;YACvE,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE;gBACxB,IAAI,CAAC,QAAQ,EAAE,CAAC;gBAChB,IAAI,UAAU,CAAC,MAAM,IAAI,CAAC,EAAE;oBACxB,QAAQ,CAAC,IAAI,CAAC,IAAI,8BAAmB,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC,CAAC;iBAC1E;gBACD,QAAQ,CAAC,IAAI,CAAC,IAAI,uBAAY,CAAC,UAAU,CAAC,CAAC,CAAC;gBAC5C,OAAO,QAAQ,CAAC;aACnB;SACJ;QACD,OAAO,iBAAM,MAAM,YAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;IACxC,CAAC;IACL,wBAAC;AAAD,CArBA,AAqBC,CArBsC,+BAAY,GAqBlD;AArBY,8CAAiB","file":"","sourceRoot":"/","sourcesContent":["import { BoardCommand, DestroyGroup, UpgradeToExtraBlock } from \"./Commands\";\nimport { ClickHandler } from \"./HandlerInterface\";\nimport MatchFinder from \"./MatchFinder\";\nimport { BlockClickEvent, BoardType, isBlockKey } from \"./Types\";\n\nexport class BlockClickHandler extends ClickHandler {\n    private matchFinder: MatchFinder;\n    constructor(board: BoardType[][]) {\n        super(board);\n        this.matchFinder = new MatchFinder(board);\n    }\n    handle(data: BlockClickEvent, commands: BoardCommand[]): BoardCommand[] {\n        if (isBlockKey(data.blockType)) {\n            let sameBlocks: BoardType[] = [];\n            sameBlocks = this.matchFinder.find(data.row, data.col, data.blockType);\n            if (sameBlocks.length >= 2) {\n                this.emitStep();\n                if (sameBlocks.length >= 5) {\n                    commands.push(new UpgradeToExtraBlock(data.row, data.col, sameBlocks));\n                }\n                commands.push(new DestroyGroup(sameBlocks));\n                return commands;\n            }\n        }\n        return super.handle(data, commands);\n    }\n}"]}